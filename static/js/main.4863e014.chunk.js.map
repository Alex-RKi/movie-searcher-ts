{"version":3,"sources":["actions/index.ts","services/index.ts","services/movie-db-service.ts","components/movie-db-service-provider/movie-db-service-provider.ts","components/footer/index.ts","components/footer/footer.tsx","components/header/index.ts","components/header/header.tsx","components/movie-card/index.ts","components/movie-card/movie-card.tsx","components/error_boundry/index.tsx","components/error_boundry/error-boundry.tsx","components/cards-list/cardPlaceholder.png","components/cards-list/cards-list.tsx","components/cards-list/index.ts","components/spinner/index.ts","components/spinner/spinner.tsx","components/pages/movie-description.tsx","components/pages/posterPlaceholder.png","components/app/index.tsx","components/app/App.tsx","reducers/favorits-reducer.ts","reducers/search-results-reducer.ts","reducers/populars-reducer.ts","reducers/search-text-reducer.ts","reducers/page-reducer.tsx","reducers/location-reducer.ts","reducers/index.tsx","store.ts","index.tsx"],"names":["UPDATE_FAVORITS","SAVE_SEARCH_RESULTS","GET_POPULARS","SAVE_SEARCH_TEXT","SAVE_PAGE","SAVE_LOCATION","UpdateFavorits","payload","type","SaveSearchResults","SavePage","page","MovieDBService","_API_URL","_API_URL_SEACRCH","_API_KEY","getMovieDescription","id","a","lang","fetch","then","res","json","getRecommendations","getPopular","searchMovie","query","MDBServiceContext","React","createContext","Footer","className","onClick","window","scrollTo","top","left","behavior","Header","props","trackLocation","getSearchText","useState","text","saveText","activeRoute","useLocation","pathname","disable","length","placeholder","useEffect","to","disabled","onChange","e","target","value","MovieCard","src","title","favorited","movieData","toggleFavorit","useContext","btnStyles","width","height","viewBox","fill","xmlns","d","alt","ErrorBoundry","state","hasError","this","setState","children","Component","CardList","movies","favoritsList","useSelector","list","messageFavsEmpty","includes","map","movie","poster_path","cardPlaceholder","some","elem","Spinner","MovieDescription","movieDBService","setMovie","liked","setLiked","recommended","setRecommended","cancelled","response","checkInFavorits","results","btnText","data","backdrop_path","genres","vote_average","overview","release_date","genresToString","reduce","string","genre","name","poster","App","dispatch","useDispatch","popularsList","searchResults","searchText","location","document","addEventListener","trackScrolling","searchMovies","removeEventListener","wrappedElement","getElementById","getBoundingClientRect","bottom","innerHeight","inquire","toLowerCase","test","encodeURI","newResult","filterResults","prevRes","newRes","ids","Set","filter","has","MDBSProviderData","arr","index","findIndex","slice","removeFromList","Provider","newLocation","SaveLocation","path","exact","render","match","params","initialState","rootReducer","combineReducers","action","localStorageData","localStorage","getItem","persistedState","JSON","parse","store","createStore","applyMiddleware","thunkMiddleware","subscribe","setItem","stringify","getState","ReactDOM"],"mappings":"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","file":"static/js/main.4863e014.chunk.js","sourcesContent":["import { movieInterface } from \"../interfaces\";\r\n//actions\r\nconst UPDATE_FAVORITS = \"UPDATE_FAVORITS\";\r\nconst SAVE_SEARCH_RESULTS = \"SAVE_SEARCH_RESULTS\";\r\nconst GET_POPULARS = \"GET_POPULARS\";\r\nconst SAVE_SEARCH_TEXT = \"SAVE_SEARCH_TEXT\";\r\nconst SAVE_PAGE = \"SAVE_PAGE\";\r\nconst SAVE_LOCATION = \"SAVE_LOCATION\";\r\n\r\n//actions types\r\ntype UpdateFavoritsActionType = {\r\n  type: typeof UPDATE_FAVORITS;\r\n  payload: movieInterface[];\r\n};\r\ntype SaveSearchResultsActionType = {\r\n  type: typeof SAVE_SEARCH_RESULTS;\r\n  payload: movieInterface[];\r\n};\r\ntype GetPopularsActionType = {\r\n  type: typeof GET_POPULARS;\r\n  payload: movieInterface[];\r\n};\r\ntype searchTextActionType = {\r\n  type: typeof SAVE_SEARCH_TEXT;\r\n  payload: string;\r\n};\r\ntype savePageActionType = {\r\n  type: typeof SAVE_PAGE;\r\n  payload: number;\r\n};\r\ntype SaveLocationActionType = {\r\n  type: typeof SAVE_LOCATION;\r\n  payload: string;\r\n};\r\n\r\n//action creators\r\nconst UpdateFavorits: Function = (\r\n  payload: movieInterface[]\r\n): UpdateFavoritsActionType => {\r\n  return {\r\n    type: UPDATE_FAVORITS,\r\n    payload: payload,\r\n  };\r\n};\r\nconst SaveSearchResults: Function = (\r\n  payload: movieInterface[]\r\n): SaveSearchResultsActionType => {\r\n  return {\r\n    type: SAVE_SEARCH_RESULTS,\r\n    payload: payload,\r\n  };\r\n};\r\nconst GetPopulars: Function = (\r\n  payload: movieInterface[]\r\n): GetPopularsActionType => {\r\n  return {\r\n    type: GET_POPULARS,\r\n    payload: payload,\r\n  };\r\n};\r\nconst SaveSearchText: Function = (payload: string): searchTextActionType => {\r\n  return {\r\n    type: SAVE_SEARCH_TEXT,\r\n    payload: payload,\r\n  };\r\n};\r\nconst SavePage: Function = (page: number): savePageActionType => {\r\n  return {\r\n    type: SAVE_PAGE,\r\n    payload: page,\r\n  };\r\n};\r\nconst SaveLocation: Function = (location: string): SaveLocationActionType => {\r\n  return {\r\n    type: SAVE_LOCATION,\r\n    payload: location,\r\n  };\r\n};\r\n\r\nexport type {\r\n  UpdateFavoritsActionType,\r\n  SaveSearchResultsActionType,\r\n  GetPopularsActionType,\r\n  searchTextActionType,\r\n  savePageActionType,\r\n  SaveLocationActionType,\r\n};\r\nexport {\r\n  UpdateFavorits,\r\n  SaveSearchResults,\r\n  GetPopulars,\r\n  SaveSearchText,\r\n  SavePage,\r\n  SaveLocation,\r\n  UPDATE_FAVORITS,\r\n  SAVE_SEARCH_RESULTS,\r\n  GET_POPULARS,\r\n  SAVE_SEARCH_TEXT,\r\n  SAVE_PAGE,\r\n  SAVE_LOCATION,\r\n};\r\n","import MovieDBService from './movie-db-service';\r\nexport default MovieDBService;","// INCOMING PARAMS: id, lang, query;\r\nexport default class MovieDBService {\r\n  _API_URL: string = \"https://api.themoviedb.org/3/movie/\";\r\n  _API_URL_SEACRCH: string = \"https://api.themoviedb.org/3/search/movie\";\r\n  _API_KEY: string = \"?api_key=a28e64474e37ed0554fd9ce97aa5293b\";\r\n\r\n  getMovieDescription = async (\r\n    id: number,\r\n    lang: \"en-US\" | \"ru-RU\" = \"en-US\"\r\n  ) => {\r\n    return await fetch(\r\n      `${this._API_URL}${id}${this._API_KEY}&language=${lang}`\r\n    ).then((res) => res.json());\r\n  };\r\n\r\n  getRecommendations = async (\r\n    id: number,\r\n    lang: \"en-US\" | \"ru-RU\" = \"en-US\"\r\n  ) => {\r\n    return await fetch(\r\n      `${this._API_URL}${id}/recommendations${this._API_KEY}&language=${lang}&page=1`\r\n    ).then((res) => res.json());\r\n  };\r\n\r\n  getPopular = async (lang: \"en-US\" | \"ru-RU\" = \"en-US\") => {\r\n    return await fetch(\r\n      `${this._API_URL}popular${this._API_KEY}&language=${lang}&page=1`\r\n    ).then((res) => res.json());\r\n  };\r\n\r\n  searchMovie = async (\r\n    query: string = \"\",\r\n    lang: \"en-US\" | \"ru-RU\" = \"en-US\",\r\n    page: number = 1\r\n  ) => {\r\n    return await fetch(\r\n      `${this._API_URL_SEACRCH}${this._API_KEY}&language=${lang}&query=${query}&page=${page}&include_adult=false`\r\n    ).then((res) => res.json());\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { MDBServiceInterface } from \"../../interfaces\";\r\n\r\nconst MDBServiceContext = React.createContext<MDBServiceInterface | null>(null);\r\nexport type { MDBServiceInterface };\r\nexport { MDBServiceContext };\r\n","import Footer from './footer';\r\nexport default Footer;","import React from 'react';\r\n\r\nconst Footer = () => {\r\n  const scrollToTop = () => {\r\n    window.scrollTo({top: 0, left: 0, behavior: 'smooth'});\r\n\r\n  }\r\n\r\n  return (\r\n    <footer id='footer' className='jumbotron w-100'>\r\n      <button className='w-100 btn btn-outline-secondary' onClick={scrollToTop}>Scroll to top</button>\r\n      <hr></hr>\r\n    <span>Data and images provided by themoviedb.org</span>\r\n    <span></span>\r\n    </footer>\r\n  );\r\n};\r\nexport default Footer;","import Header from './header';\r\nexport default Header;","import React, { useState, useEffect } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport './header.css';\r\n\r\nconst Header = (props: {\r\n  trackLocation: Function,\r\n  getSearchText: Function\r\n}) => {\r\n  const { trackLocation, getSearchText } = props;\r\n  const [text, saveText] = useState('');\r\n  let activeRoute = useLocation().pathname;\r\n  const disable = activeRoute.length > 1;\r\n  let placeholder = disable ? '...' : 'Search...';\r\n\r\n  useEffect(() => {\r\n    getSearchText(text);\r\n  }, [text]);\r\n  useEffect(() => {\r\n    trackLocation(activeRoute)\r\n  }, [activeRoute]);\r\n\r\n  const handleInput = (e: any) => {\r\n    saveText(e.target.value);\r\n  }\r\n  return (\r\n    <div className='wrapper'>\r\n      <nav className='justify-content-center'>\r\n        <Link to='/' className='btn btn-dark  btn-nav border  border-right-1'>Main</Link>\r\n        <Link to='/favorits' className='btn btn-dark  btn-nav'>Favorits</Link>\r\n        <input disabled={disable}\r\n          className='form-control flex-grow-1 search'\r\n          onChange={handleInput}\r\n          type='text' placeholder={placeholder}\r\n          value={text} />\r\n      </nav>\r\n    </div>\r\n\r\n\r\n  );\r\n}\r\n\r\nexport default Header;","import MovieCard from './movie-card';\r\nexport default MovieCard;","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { MDBServiceContext } from '../movie-db-service-provider';\r\nimport './movie-card.css';\r\n\r\ninterface cardInterface {\r\n  src: string;\r\n  title: string;\r\n  id: number;\r\n  favorited: boolean;\r\n  movieData: object;\r\n}\r\n\r\nconst MovieCard = (props: cardInterface) => {\r\n  const { src, title, id, favorited, movieData } = props;\r\n  const { toggleFavorit } = useContext(MDBServiceContext)!;\r\n\r\n  const onLiked = () => {\r\n    toggleFavorit(movieData);\r\n  };\r\n\r\n  let btnStyles = 'like-btn';\r\n  if (favorited) btnStyles += ' inFavs';\r\n\r\n  return (\r\n    <div className='card movie-card'>\r\n      <button className={btnStyles} onClick={onLiked}>\r\n        <svg width=\"1.5em\" height=\"1.5em\" viewBox=\"-0.4 1.2 16 16\" className=\"bi bi-star-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\" />\r\n        </svg>\r\n      </button>\r\n      <Link to={`/description/${id}`}>\r\n        <img className='poster' src={src} alt={title} />\r\n      </Link>\r\n      <span className='title card-header'>{title}</span>\r\n    </div>\r\n\r\n  );\r\n}\r\nexport default MovieCard;","import ErrorBoundry from './error-boundry';\r\nexport default ErrorBoundry;","import React, { Component } from 'react';\r\n\r\nexport default class ErrorBoundry extends Component {\r\n  state = {\r\n    hasError: false\r\n  }\r\n  componentDidCatch() {\r\n    this.setState({\r\n      hasError: true});\r\n  }\r\n  render() {\r\n    if(this.state.hasError) {\r\n      return <div className='jumbotron w-100'>Something happend... pls reload the page or try later</div>\r\n    }\r\n    return this.props.children;\r\n  }\r\n}","export default __webpack_public_path__ + \"static/media/cardPlaceholder.b914a79b.png\";","import React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootStateType } from '../../reducers';\r\n\r\nimport { movieInterface } from '../../interfaces';\r\nimport MovieCard from '../movie-card';\r\nimport ErrorBoundry from '../error_boundry';\r\nimport './cards-list.css';\r\nimport cardPlaceholder from './cardPlaceholder.png';\r\n\r\n\r\nfunction CardList(props: { list: any }) {\r\n  const { favoritsList } = useSelector((state: RootStateType) => state.favoritsList);\r\n  const { list } = props;\r\n\r\n  let activeRoute = useLocation().pathname;\r\n  const messageFavsEmpty = list.length === 0 && activeRoute.includes('favorits') ?\r\n    <div className='card empty'>Your favorits list is empty</div> : null;\r\n\r\n  const createList: Function = (movies: movieInterface[]): JSX.Element[] => {\r\n    return movies.map((movie: movieInterface) => {\r\n      const { id, title, poster_path } = movie;\r\n      const src = poster_path ?\r\n        `http://image.tmdb.org/t/p/w342/${poster_path}` :\r\n        cardPlaceholder;\r\n      const favorited: boolean = favoritsList.some((elem: movieInterface) => {\r\n        return elem.id === id\r\n      });\r\n      return (\r\n        <MovieCard key={id}\r\n          id={id}\r\n          src={src}\r\n          title={title}\r\n          favorited={favorited}\r\n          movieData={movie}\r\n        />);\r\n    });\r\n  }\r\n  return (\r\n    <ErrorBoundry>\r\n      <div className='cards-list' >\r\n        {messageFavsEmpty}\r\n        {createList(list)}\r\n      </div>\r\n    </ErrorBoundry>\r\n  );\r\n}\r\nexport default CardList;","import CardList from \"./cards-list\";\r\nexport default CardList;\r\n","import Spinner from \"./spinner\";\r\nexport default Spinner;\r\n","import React from 'react';\r\nimport './spinner.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\" h-auto w-auto loadingio-spinner-gear-qqoee1y8k8 border border-light\"><div className=\"ldio-6qzl3zftic9\">\r\n      <div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div></div>\r\n\r\n\r\n  );\r\n}\r\nexport default Spinner;","import React, { useContext, useEffect, useState } from 'react';\r\nimport MovieDBService from '../../services';\r\nimport { movieInterface } from '../../interfaces';\r\nimport { MDBServiceContext } from '../movie-db-service-provider';\r\nimport Spinner from '../spinner';\r\nimport CardList from '../cards-list';\r\nimport ErrorBoundry from '../error_boundry';\r\nimport './movie-description.css'\r\nimport posterPlaceholder from './posterPlaceholder.png'\r\n\r\n\r\n\r\nfunction MovieDescription(props: { id: number }) {\r\n  const movieDBService = new MovieDBService();\r\n  const { toggleFavorit, favoritsList } = useContext(MDBServiceContext)!;\r\n  const { id } = props;\r\n  const [movie, setMovie] = useState();\r\n  const [liked, setLiked] = useState(false)\r\n  const [recommended, setRecommended] = useState();\r\n  const checkInFavorits = (id: number) => {\r\n    return favoritsList.some((elem: movieInterface) => elem.id === id)\r\n  }\r\n  useEffect((): any => {\r\n    let cancelled = false;\r\n    window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\r\n    movieDBService.getMovieDescription(id)\r\n      .then((response) => {\r\n        !cancelled && setMovie(response);\r\n        !cancelled && setLiked(checkInFavorits(response.id));\r\n      });\r\n    movieDBService.getRecommendations(id)\r\n      .then((response) => {\r\n        !cancelled && setRecommended(response.results);\r\n      });\r\n    return () => cancelled = true;\r\n  }, [id]);\r\n\r\n  if (!movie) return <Spinner />;\r\n\r\n  let btnText = liked ?\r\n    'Remove from Favorits' :\r\n    'Add to favorits';\r\n\r\n  const data: movieInterface = movie!;\r\n  const {\r\n    poster_path,\r\n    backdrop_path,\r\n    title,\r\n    genres,\r\n    vote_average,\r\n    overview,\r\n    release_date\r\n  } = data;\r\n\r\n  let genresToString = genres.reduce((string: string, genre: any) => {\r\n    return string += ` ${genre.name}`;\r\n  }, '');\r\n  const src = poster_path ?\r\n    `http://image.tmdb.org/t/p/w342/${backdrop_path ? backdrop_path : poster_path}` :\r\n    posterPlaceholder;\r\n\r\n  const poster = movie ? <img src={src} alt={title} className='pic-sizer' /> :\r\n    <Spinner />;\r\n  return (\r\n    <ErrorBoundry>\r\n      <div className='bg-light w-100'>\r\n        <div className='flex-container border border-black'>\r\n          <div className='d-flex pic-container' >\r\n            {poster}\r\n          </div>\r\n          <div className='card card-body'>\r\n            <h1>{title}</h1>\r\n            <span className=\"text-muted spacer\">Rating: {vote_average}</span>\r\n            <article className=\"spacer\">{overview}</article>\r\n            <span className=\"spacer\">Genres:{genresToString}</span>\r\n            <span className=\"spacer\">Release date: {release_date}</span>\r\n            <button\r\n              className='btn btn-outline-secondary'\r\n              onClick={() => {\r\n                setLiked(!liked);\r\n                toggleFavorit(data)\r\n              }}>\r\n              {btnText}\r\n            </button>\r\n          </div>\r\n        </div >\r\n        {\r\n          recommended ?\r\n            <div>\r\n              <h2 className='notif'>You may also like:</h2>\r\n              <CardList list={recommended} />\r\n            </div> :\r\n            <Spinner />\r\n        }\r\n      </div>\r\n    </ErrorBoundry>\r\n  );\r\n}\r\nexport default MovieDescription;\r\n","export default \"data:image/png;base64,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\"","import App from './App';\r\nexport default App;","import React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  UpdateFavorits,\n  SaveSearchResults,\n  GetPopulars,\n  SaveSearchText,\n  SavePage,\n  SaveLocation\n} from '../../actions'\nimport { RootStateType } from '../../reducers';\nimport MovieDBService from '../../services';\nimport { MDBServiceContext, MDBServiceInterface } from '../movie-db-service-provider';\nimport { movieInterface, ResponseInterface } from '../../interfaces';\nimport Footer from '../footer';\nimport Header from '../header';\nimport CardList from '../cards-list';\nimport { MovieDescription } from '../pages'\nimport ErrorBoundry from '../error_boundry';\nimport Spinner from '../spinner';\n\n\nconst App = () => {\n\n  const movieDBService = new MovieDBService();\n  const dispatch = useDispatch();\n\n  const { popularsList } = useSelector((state: RootStateType) => state.popularsList);\n  const { favoritsList } = useSelector((state: RootStateType) => state.favoritsList);\n  const { searchResults } = useSelector((state: RootStateType) => state.searchResults);\n  const { searchText } = useSelector((state: RootStateType) => state.searchText);\n  const { page } = useSelector((state: RootStateType) => state.page);\n  const { location } = useSelector((state: RootStateType) => state.location);\n\n  useEffect(() => {\n    movieDBService.getPopular()\n      .then((response: ResponseInterface) => {\n        const popularsList: movieInterface[] = response.results;\n        dispatch(GetPopulars(popularsList))\n      });\n  }, []);\n  useEffect(() => {\n    document.addEventListener('scroll', trackScrolling);\n    let cancelled = false;\n    if (!cancelled && location === '/') {\n      searchMovies(searchText, page);\n    }\n    return () => {\n      document.removeEventListener('scroll', trackScrolling);\n      cancelled = true;\n    }\n  }, [searchText, page, location]);\n\n  const isBottom = (el: HTMLElement) => {\n    return el.getBoundingClientRect().bottom <= window.innerHeight;\n  };\n  const trackLocation = (newLocation: string) => {\n    dispatch(SaveLocation(newLocation))\n  }\n  const getSearchText = (text: string) => {\n    dispatch(SaveSearchResults([]));\n    dispatch(SavePage(1));\n    dispatch(SaveSearchText(text));\n  }\n  const trackScrolling = () => {\n    const wrappedElement: any = document.getElementById('footer');\n    if (isBottom(wrappedElement)) {\n      document.removeEventListener('scroll', trackScrolling);\n      const nextPage = page + 1;\n      dispatch(SavePage(nextPage));\n    }\n  };\n  const addToList = (data: object, arr: Array<object> | []): Array<object> => {\n    return [...arr, data];\n  }\n  const removeFromList = (id: any, arr: Array<any> | []): Array<object> => {\n    const index: number = arr.findIndex(elem => elem.id === id);\n    return [\n      ...arr.slice(0, index),\n      ...arr.slice(index + 1)\n    ];\n  }\n  const toggleFavorit: Function = (movieData: movieInterface) => {\n    const { id } = movieData\n    favoritsList.some((elem: movieInterface) => elem.id === id) ?\n      dispatch(UpdateFavorits(removeFromList(id, favoritsList))) :\n      dispatch(UpdateFavorits(addToList(movieData, favoritsList)));\n  }\n  const searchMovies: Function = (query: string, page: number = 1) => {\n    if (query.length < 1) {\n      return;\n    };\n    let inquire = query.toLowerCase();\n    type searchLangType = \"en-US\" | \"ru-RU\";\n    let lang: searchLangType = \"en-US\";\n    if (/^[а-яА-Я]+$/.test(inquire)) {\n      lang = \"ru-RU\";\n      inquire = encodeURI(inquire);\n    }\n    movieDBService.searchMovie(inquire, lang, page)\n      .then((response: ResponseInterface) => {\n        if (response.results.length < 1) return;\n        const newResult = filterResults(searchResults, response.results)\n        dispatch(SaveSearchResults(newResult));\n      });\n  };\n  const filterResults = (prevRes: any, newRes: any) => {\n    const ids = new Set(prevRes.map((d: any) => d.id));\n    return [...prevRes, ...newRes.filter((d: any) => !ids.has(d.id))]\n  }\n  const MDBSProviderData: MDBServiceInterface = {\n    favoritsList,\n    toggleFavorit\n  }\n  if (!popularsList) return <Spinner />\n\n  return (\n    <ErrorBoundry>\n      <MDBServiceContext.Provider value={MDBSProviderData}>\n        <div className='d-flex flex-column flex-shrink-1 bg-gradient-light'>\n          <Router>\n            <Header\n              trackLocation={trackLocation}\n              getSearchText={getSearchText}\n            />\n            <Switch>\n              <Route path='/' exact\n                render={(): JSX.Element => <CardList list={searchText ? searchResults : popularsList} />}\n              />\n              <Route path='/favorits'\n                render={() => <CardList list={favoritsList} />}\n              />\n              <Route path='/description/:id'\n                render={({ match }): JSX.Element => {\n                  const { id } = match.params;\n                  return <MovieDescription id={id} />\n                }}\n              />\n            </Switch>\n          </Router>\n          <Footer />\n        </div>\n      </MDBServiceContext.Provider>\n    </ErrorBoundry>\n  );\n};\nexport default App;\n","import { movieInterface } from \"../interfaces\";\r\nimport { UPDATE_FAVORITS, UpdateFavoritsActionType } from \"../actions\";\r\n\r\nconst initialState = {\r\n  favoritsList: [] as [] | movieInterface[],\r\n};\r\ntype InitialStateFavoritsListType = typeof initialState;\r\n\r\n//reducer\r\n\r\nfunction favoritsReducer(\r\n  state: InitialStateFavoritsListType = initialState,\r\n  action: UpdateFavoritsActionType\r\n) {\r\n  switch (action.type) {\r\n    case UPDATE_FAVORITS:\r\n      return {\r\n        favoritsList: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport { favoritsReducer };\r\n","import { movieInterface } from \"../interfaces\";\r\nimport { SAVE_SEARCH_RESULTS, SaveSearchResultsActionType } from \"../actions\";\r\n\r\nconst initialState = {\r\n  searchResults: [] as [] | movieInterface[],\r\n};\r\ntype InitialStateSearcResultsType = typeof initialState;\r\n\r\n//reducer\r\nfunction searchResultsReducer(\r\n  state: InitialStateSearcResultsType = initialState,\r\n  action: SaveSearchResultsActionType\r\n) {\r\n  switch (action.type) {\r\n    case SAVE_SEARCH_RESULTS:\r\n      return {\r\n        searchResults: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport { searchResultsReducer };\r\n","import { movieInterface } from \"../interfaces\";\r\nimport { GET_POPULARS, GetPopularsActionType } from \"../actions\";\r\n\r\nconst initialState = {\r\n  popularsList: [] as [] | movieInterface[],\r\n};\r\ntype InitialStatePopularsListType = typeof initialState;\r\n\r\n//reducer\r\nfunction popularsReducer(\r\n  state: InitialStatePopularsListType = initialState,\r\n  action: GetPopularsActionType\r\n) {\r\n  switch (action.type) {\r\n    case GET_POPULARS:\r\n      return {\r\n        popularsList: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport { popularsReducer };\r\n","import { SAVE_SEARCH_TEXT, searchTextActionType } from \"../actions\";\r\n\r\nconst initialState = {\r\n  searchText: \"\" as string,\r\n};\r\ntype InitialStateSearcTextType = typeof initialState;\r\n\r\n//reducer\r\nfunction searchTextReducer(\r\n  state: InitialStateSearcTextType = initialState,\r\n  action: searchTextActionType\r\n) {\r\n  switch (action.type) {\r\n    case SAVE_SEARCH_TEXT:\r\n      return {\r\n        searchText: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport { searchTextReducer };\r\n","import {\r\n  SAVE_PAGE,\r\n  savePageActionType\r\n} from \"../actions\";\r\n\r\nconst initialState = {\r\n  page: 1 as number\r\n};\r\ntype InitialStatePageType = typeof initialState;\r\n\r\n//reducer\r\nfunction pageReducer(\r\n  state: InitialStatePageType = initialState,\r\n  action: savePageActionType\r\n) {\r\n  switch (action.type) {\r\n    case SAVE_PAGE:\r\n      return {\r\n        page: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport { pageReducer };","import { SAVE_LOCATION, SaveLocationActionType } from \"../actions\";\r\n\r\nconst initialState = {\r\n  location: \"\" as string,\r\n};\r\ntype InitialStateLocationType = typeof initialState;\r\n\r\n//reducer\r\nfunction locationReducer(\r\n  state: InitialStateLocationType = initialState,\r\n  action: SaveLocationActionType\r\n) {\r\n  switch (action.type) {\r\n    case SAVE_LOCATION:\r\n      return {\r\n        location: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport { locationReducer };\r\n","import { combineReducers } from 'redux';\r\nimport { favoritsReducer } from './favorits-reducer';\r\nimport { searchResultsReducer } from './search-results-reducer';\r\nimport { popularsReducer } from './populars-reducer';\r\nimport { searchTextReducer } from './search-text-reducer';\r\nimport { pageReducer } from './page-reducer';\r\nimport { locationReducer } from './location-reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  favoritsList: favoritsReducer,\r\n  searchResults: searchResultsReducer,\r\n  popularsList: popularsReducer,\r\n  searchText: searchTextReducer,\r\n  page: pageReducer,\r\n  location: locationReducer\r\n});\r\ntype RootStateType = ReturnType<typeof rootReducer>;\r\n\r\n\r\n\r\nexport type { RootStateType }\r\nexport { rootReducer };","import { createStore, applyMiddleware } from \"redux\";\r\nimport { rootReducer } from \"./reducers\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { RootStateType } from \"./reducers\";\r\n\r\nconst  localStorageData = localStorage.getItem(\"MovieSearcherReduxStore\");\r\nconst persistedState: RootStateType = localStorageData !== null ?\r\n  JSON.parse(localStorageData) :\r\n  {};\r\n\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  persistedState,\r\n  applyMiddleware(thunkMiddleware)\r\n);\r\n\r\nstore.subscribe(() => {\r\n  localStorage.setItem(\r\n    \"MovieSearcherReduxStore\",\r\n    JSON.stringify(store.getState())\r\n  );\r\n});\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport store from './store';\nimport { Provider } from 'react-redux';\nimport ErrorBoundry from '../src/components/error_boundry';\n\nReactDOM.render(\n    <ErrorBoundry>\n      <Provider  store={store}>\n        <App />\n      </Provider>\n    </ErrorBoundry>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}